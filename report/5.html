<!--{php}-->
$_SYS['tpl']['title'] = '心理测试列表';
$_SYS['tpl']['js'][] = 'static/js/template-web.js';

$_SYS['tpl']['js'][] = 'static/wj/'.$this->id.'.js';
<!--{/php}-->
<!--{include common/head.html}-->

<body>
<script type="text/javascript" src="http://tajs.qq.com/stats?sId=65913753" charset="UTF-8"></script>

<script type="text/html" id="script_title">
    <p style="padding-top: 35px;font-size: 34px;"><%=title%></p>
</script>

<script type="text/html" id="script_1">
    测试结果:
    <a style="font-size: 34px;"><%=name%>
    </a>
</script>


<div style="margin-top: -20px;background-color: #604d94;color: #FFF;">
    <div class="container"  id="container_title">
        <p style="padding-top: 35px;font-size: 34px;">title</p>
    </div>
</div>

<div class="container" id="container_1">

</div>

<div class="container">
    <p>心理视点:
        面对纷繁复杂的现代社会环境，人们应具有良好的心理适应能力，以胜任各种富有挑战性的工作，否则便会产生自卑感，自信心不足，跟不上现代社会的节奏。
        如何增强心理适应能力呢?首先要客观地认识自我，树立起信心其是建立起一个现实的目标，对自己的发展必须建立在现实的基础上，扬长避短，争取成功，再次，对生活采取宽容态度，处处替他人着想，切忌以自我为中心，要胸襟坦荡，善于接受别人，最后，只有在工作中及与人交往上做好自我调节，平衡心理，才能在竞争激烈的社会中得到发展。
    </p>
</div>

<script>
    window.onload = function (){
        init();

    }
</script>

<script>

    var answer = JSON.parse('{$report['answer']}');
    var score = 0;
    var list = [];
    function init() {
        $.get('/static/wj/topic/{$this->id}.json',{},function (data) {
            if(data.io){
                var html = template('script_title', data.data);
                $("#container_title").html(html);

                var name = data.data['report']['abbr'];

                for(var i2 = 0; i2 < data.data['report']['topic'].length; i2++){
                    eval(name +'+='+ Number(eval('answer.q'+Number(data.data['report']['topic'][i2]))));
                }

                if(score <= 20){
                    var html = template('script_1', {"name":data.data['report']['A']});
                }else if(score >= 21 && score <= 48){
                    var html = template('script_1', {"name":data.data['report']['B']});
                }else{
                    var html = template('script_1', {"name":data.data['report']['C']});
                }

                $("#container_1").append(html);

            }else{
                console.debug(data.data);
            }
        },'json');

        console.log('ok');
    }


</script>